import{_ as h,r as g,o as r,c as l,b as P,a as e,t as i,g as v,v as f,F as u,e as y}from"./index-fffa9242.js";const{VITE_API:a,VITE_API_PATH:p}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"petshome",BASE_URL:"/vite-homework/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{isLoading:!0,fullPage:!0,temProduct:{},qty:1}},mounted(){this.isLoading=!0;const n=this.$route.params.id;this.$http(`${a}api/${p}/product/${n}`).then(s=>{this.temProduct=s.data.product,this.isLoading=!1}).catch(s=>console.log(s))},methods:{addToCart(n,s=1){this.isLoading=!0;const d={data:{product_id:n,qty:s}};this.$http.post(`${a}api/${p}/cart`,d).then(c=>{c.data.success?(alert("加入購物車成功"),this.qty=1):alert("加入購物車失敗"),this.isLoading=!1}).catch(c=>console.log(c))}}},V={class:"row align-items-center"},b={class:"col-sm-6"},E=["src"],I={class:"col-sm-6"},T=e("span",{class:"badge bg-primary rounded-pill"},null,-1),k={key:0,class:"h5"},A={key:1},q={class:"h6"},D={class:"h5"},w={class:"input-group"};function x(n,s,d,c,t,m){const _=g("VueLoading");return r(),l(u,null,[P(_,{active:t.isLoading,"onUpdate:active":s[0]||(s[0]=o=>t.isLoading=o),"can-cancel":!1,"is-full-page":t.fullPage},null,8,["active","is-full-page"]),e("div",null,[e("div",V,[e("div",b,[e("img",{class:"img-fluid",src:t.temProduct.imageUrl,alt:""},null,8,E)]),e("div",I,[T,e("h3",null,i(t.temProduct.title),1),e("p",null,"商品描述： "+i(t.temProduct.description),1),e("p",null,"商品內容： "+i(t.temProduct.content),1),t.temProduct.origin_price===t.temProduct.price?(r(),l("div",k,i(t.temProduct.price)+" 元 ",1)):(r(),l("div",A,[e("del",q,"原價 "+i(t.temProduct.origin_price)+" 元",1),e("div",D,"現在只要 "+i(t.temProduct.price)+" 元",1)])),e("div",null,[e("div",w,[v(e("select",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.qty=o)},[(r(),l(u,null,y(20,o=>e("option",{key:o},i(o),1)),64))],512),[[f,t.qty,void 0,{number:!0}]]),e("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=o=>m.addToCart(t.temProduct.id,t.qty))}," 加入購物車 ")])])])])])],64)}const C=h(L,[["render",x]]);export{C as default};
