import{_ as m,o as u,c as _,a as o,g as a,h as i,i as h}from"./index-a63ab4b4.js";const{VITE_API:f,VITE_API_PATH:T}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"petshome",BASE_URL:"/vite-homework/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{username:"",password:""}},methods:{login(r,e){if(new RegExp(/^[^@\s]+@[^@\s]+\.[^@\s]+$/).test(r)){const l=`${f}admin/signin`,s={username:r,password:e};this.$http.post(l,s).then(n=>{const{message:t,token:d,expired:p}=n.data;alert(t),document.cookie=`petsHome=${d}; expire=${p}; Path=/`,this.$router.push("/admin")}).catch(n=>{alert(n.response.data.message)})}else alert("Email 格式不正確")}}},g={class:"mt-5"},x={class:"d-flex justify-content-center align-items-center"},v={class:"col-12 col-sm-8 col-lg-5 p-3"},b=o("h2",{class:"text-center"},"登入",-1),E={class:"mb-3"},P=o("label",{for:"username",class:"form-label"},"Email address",-1),V={class:"mb-3"},y=o("label",{for:"password",class:"form-label"},"Password",-1);function I(r,e,c,l,s,n){return u(),_("div",g,[o("div",x,[o("div",v,[b,o("div",E,[P,a(o("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t)},null,512),[[i,s.username]])]),o("div",V,[y,a(o("input",{type:"password",class:"form-control",id:"password",placeholder:"****","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),onKeyup:e[2]||(e[2]=h(t=>n.login(s.username,s.password),["enter"]))},null,544),[[i,s.password]])]),o("button",{type:"button",class:"btn btn-primary col-12 mt-3",onClick:e[3]||(e[3]=t=>n.login(s.username,s.password))}," 登入 ")])])])}const k=m(w,[["render",I]]);export{k as default};
